#!/bin/sh

SELFDIR=$(cd "$(dirname "$0")"; pwd)

# Install packages here
# See https://github.com/MikeMcQuaid/dotfiles/blob/master/script/codespaces-post-start
# apt-get install -y \
#   tmux

# Install golang-petname utility to GOBIN
go install github.com/dustinkirkland/golang-petname/cmd/petname@latest

# Generate a unique petname for this machine instance
if ! [[ -s "~/.machine_name" ]]
then
  $HOME/go/bin/petname > ~/.machine_name
fi

# Install tmux config
cp $SELFDIR/.tmux.conf ~/

# Add stuff to .bashrc
if ! grep -q hashtagchris ~/.bashrc
then
  echo >> ~/.bashrc
  cat $SELFDIR/.bashrc-additions >> ~/.bashrc
fi
